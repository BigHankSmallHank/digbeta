Recommending Points of Interest (POI) and trajectories to tourists by exploring data with 
geographical information from on-line social media is an interesting and challenging task.
We formulate trajectory recommendation as a structured prediction problem by incorporating 
both the preferences of POIs and sequential visiting patterns.
POI preferences were captured by applying learning to rank to a number of informative POI and trajectory features,
POI sequential visiting patterns were modelled using a Markov Chain (MC) where transition 
probabilities were factorized according to several POI features.
Furthermore, a structured supported vector machine was utilized to effectively combine POI rankings
and transitions to predict a whole trajectory.
Experimental results demonstrate that our proposed approach outperformed
the state-of-the-art methods on five trajectory datasets.
